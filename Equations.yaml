# build consts
let:
- appExecutableName: sae
- devBuildOptions: --fast
- productionBuildOptions: --no-test
- testPhrase: just test

# exec if no args provided, it MUST be formula (task) name
default: sae build install

# just executes plain command without parcing
sayHello: echo "Hello!"

test: 3echo "it's @testPhrase?"

# this executes first array element as a command if this elemnt is't equal ""
# and then takes list of tasks to run afterwards
buildAndRun: sae build run

# moreover if you use array you'll be able to use advanced argument parcing and use your consts
build: stack build @devBuildOptions?
# - stack build @devBuildOptions?

# executes first argument as a command and then executes file fomulas (tasks)
production: stack build && sae install

run: stack exec @appExecutableName?

install: cp .stack-work/install/x86_64-osx/lts-12.19/8.4.4/bin/@appExecutableName? /Users/local/.local/bin


